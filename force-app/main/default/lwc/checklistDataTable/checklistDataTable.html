<template>
    <lightning-card title="Checklist Items" icon-name="custom:custom63">

            <lightning-button-icon
                icon-name="utility:add"
                alternative-text="add"
                title="New Task"
                onclick={handleNewTask}
                class="slds-m-top_medium"
                style="padding-left: 14px;"
            ></lightning-button-icon>

            <lightning-button-icon
                icon-name="utility:refresh"
                alternative-text="Refresh"
                title="Refresh"
                onclick={refreshData}
                class="slds-m-top_medium"
                style="padding-right: 14px;"
                ></lightning-button-icon>

            <lightning-button 
                variant="destructive" 
                label="Delete" 
                onclick={handleClickDelete}
            ></lightning-button>

            <lightning-button 
                variant="Success" 
                label="Data Loader" 
                onclick={handleModalOpen}
            ></lightning-button>


        <template if:true={checkList}>
            <lightning-datatable
                key-field="id"
                data={checkList}
                columns={columns}
                draft-values={draftValues}
                hide-checkbox-column={hideCheckboxColumn}
                show-row-number-column={showRowNumberColumn}
                onrowselection={handleRowSelection}
                onsave={handleSave}>
            </lightning-datatable>
        </template>
        <template if:true={error}>
            <p class="slds-text-color_error">Error fetching checklist items</p>
        </template>

        <template if:true={isModalOpen}>
            <c-check-List-data-loader record-id={recordId} onclose={handleModalClose} onsave={handleModalSave}></c-check-List-data-loader>
        </template>
    </lightning-card>
</template>
